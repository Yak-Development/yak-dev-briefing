# Yak Dev Daily Briefing

Automated daily priority briefing pulled from Linear, generated by Claude, delivered to your phone via iMessage.

## How It Works

1. **GitHub Actions** runs every weekday morning at 7am MST
2. Fetches all active Linear issues from your Yak-Dev workspace
3. Sends them to Claude API which generates a prioritized daily briefing
4. Commits the briefing to `briefing/latest.txt` in this repo
5. **Apple Shortcut** on your iPhone fetches the briefing and sends it to you via iMessage

---

## Setup (15 minutes)

### Step 1: Create this repo on GitHub

```bash
# Create a new private repo on GitHub called "yak-dev-briefing"
# Then push this project to it:
cd yak-dev-briefing
git init
git add .
git commit -m "Initial setup"
git branch -M main
git remote add origin https://github.com/YOUR_USERNAME/yak-dev-briefing.git
git push -u origin main
```

### Step 2: Get your API keys

**Linear API Key:**
1. Go to https://linear.app/yak-dev/settings/api
2. Click "Create key"
3. Name it "Daily Briefing"
4. Copy the key

**Anthropic API Key:**
1. Go to https://console.anthropic.com/settings/keys
2. Create a new key
3. Copy it

### Step 3: Add secrets to GitHub

1. Go to your repo → Settings → Secrets and variables → Actions
2. Add these repository secrets:
   - `LINEAR_API_KEY` → your Linear API key
   - `ANTHROPIC_API_KEY` → your Anthropic API key
   - `LINEAR_TEAM_KEY` → `YAK` (or whatever your team key is)

### Step 4: Test the workflow

1. Go to your repo → Actions → "Daily Briefing"
2. Click "Run workflow" → "Run workflow"
3. Wait for it to complete
4. Check `briefing/latest.txt` — you should see your briefing

### Step 5: Set up the iPhone Shortcut

This is what delivers the briefing to you via iMessage every morning.

**Create the Shortcut:**

1. Open the **Shortcuts** app on your iPhone
2. Tap **+** to create a new shortcut
3. Name it "Morning Briefing"
4. Add these actions in order:

   **Action 1: Get Contents of URL**
   - URL: `https://raw.githubusercontent.com/YOUR_USERNAME/yak-dev-briefing/main/briefing/latest.txt`
   - Method: GET
   - (If your repo is private, see "Private Repo Setup" below)

   **Action 2: Send Message**
   - To: *your own phone number*
   - Message: select the output from the previous "Get Contents of URL" step

5. Tap **Done**

**Set up the Automation (so it runs automatically):**

1. In Shortcuts, go to the **Automation** tab
2. Tap **+** → **Time of Day**
3. Set to **7:15 AM** (15 min after the GitHub Action runs to ensure it's done)
4. Set to **Weekly** → check **Mon, Tue, Wed, Thu, Fri**
5. Turn OFF "Ask Before Running" (so it sends automatically)
6. Set it to run the "Morning Briefing" shortcut
7. Tap **Done**

### Private Repo Setup (recommended)

If your repo is private (it should be), the raw GitHub URL won't work without auth.

**Option A: Use a GitHub Personal Access Token in the Shortcut**

1. Go to https://github.com/settings/tokens
2. Generate a new token (classic) with `repo` scope
3. In the Shortcut's "Get Contents of URL" action:
   - Add a Header: `Authorization` = `token YOUR_GITHUB_PAT`

**Option B: Use a GitHub Gist instead (simpler)**

Instead of reading from the repo, the action can update a **secret Gist**.

1. Create a secret Gist at https://gist.github.com with a file called `briefing.txt`
2. Copy the Gist ID from the URL
3. Add `GIST_ID` and `GH_PAT` (with gist scope) as GitHub Actions secrets
4. The workflow will update the Gist. Use the raw Gist URL in your Shortcut (secret Gists are accessible by URL but not searchable).

---

## Manual Trigger

You can also trigger a briefing anytime:
- Go to Actions → Daily Briefing → Run workflow
- Or ask Claude in chat: "What's on my plate today?" and I'll pull your Linear board live

## Customization

- **Change the schedule**: Edit the cron in `.github/workflows/daily-briefing.yml`
- **Change the briefing style**: Edit the prompt in `scripts/daily-briefing.js`
- **Add email integration later**: We can extend the script to pull Gmail via API

---

## Costs

- **GitHub Actions**: Free (runs ~30 seconds, well within free tier)
- **Claude API**: ~$0.01-0.03 per briefing (Sonnet, small prompt)
- **Linear API**: Free
- **Total**: Less than $1/month
